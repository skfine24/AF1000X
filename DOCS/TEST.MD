# AF1000X Wi‑Fi + RC 테스트 체크리스트

드론 도착 후 펌웨어 플래시하고 하나씩 확인하세요.  
안전: 모든 벤치 테스트는 **프로펠러 제거** 상태에서 진행하세요.

## 0) 준비 / 기본 확인
- [ ] 펌웨어 빌드 성공 확인 (`esp32:esp32:esp32s3`)
- [ ] AF1000X에 펌웨어 업로드
- [ ] 전원 ON (프로펠러 제거)
- [ ] POST 완료 확인 (IMU/BARO OK, HARD LOCK 없음)
- [ ] 배터리 전압 안전 범위 확인

## 1) Wi‑Fi AP 동작 (POST 이후 정책)
- [ ] POST 완료 후 SSID `SYUBEA_XXXXXX` (MAC 기반) AP 켜짐
- [ ] **15초 내 연결 없으면 AP 자동 OFF**
- [ ] 15초 내 연결되면 AP 유지
- [ ] UDP 포트 `8800` 수신 준비 상태

## 2) Wi‑Fi 활성 조건 (옵션 B)
- [ ] Wi‑Fi 활성 조건 충족 시에만 `wifiActive`가 true
- [ ] 조건 1: AP에 최소 1대 연결
- [ ] 조건 2: 최근 1초 이내 Wi‑Fi 제어 패킷 수신

## 3) RC vs Wi‑Fi 우선순위
- [ ] Wi‑Fi 활성 중에도 RC 스틱 움직이면 즉시 RC가 우선
- [ ] RC 스틱 중립 상태면 Wi‑Fi 입력으로 복귀
- [ ] Wi‑Fi 비활성 상태에서는 RC만 정상 동작

## 4) Failsafe 규칙
- [ ] RC 신호 끊겨도 Wi‑Fi 활성 시 failsafe **미동작**
- [ ] RC 신호 끊기고 Wi‑Fi 비활성일 때 failsafe **동작**
- [ ] failsafe 시 기존 착륙 로직 유지 확인

## 5) Wi‑Fi 입력 매핑 (APK 최소 기능)
### 5.1 스틱 4채널
- [ ] Throttle (buf[20]) → 스로틀 입력
- [ ] Roll (buf[21]) → 롤 입력
- [ ] Pitch (buf[22]) → 피치 입력
- [ ] Yaw (buf[23]) → 요 입력

### 5.2 자동이륙
- [ ] `buf[29] == 0x2d` 입력 시 자동이륙 트리거
- [ ] 기존 자동이륙 로직과 동일하게 동작하는지 확인

### 5.3 비상정지
- [ ] `buf[27]==0x11` AND `buf[29]==0x3c` 입력 시 비상정지
- [ ] 모터 즉시 컷오프 + EMERGENCY 모드 진입 확인

### 5.4 자이로 초기화
- [ ] 스틱 7시 패턴(모든 축 ≤ 32) 입력 시 자이로 초기화
- [ ] 자이로 리셋 애니메이션 및 yaw reset 동작 확인

## 6) 비행 테스트 (프로펠러 장착, 안전 구역)
- [ ] RC만으로 기본 호버
- [ ] Wi‑Fi만으로 기본 호버
- [ ] Wi‑Fi 조종 중 RC 즉시 개입 확인
- [ ] Wi‑Fi 비상정지 동작 확인
- [ ] Wi‑Fi 자동이륙 동작 확인
- [ ] Wi‑Fi 자이로 초기화 (지상에서만)

## 7) 기존 기능 회귀 확인
- [ ] 바인딩/링크 동작 이상 없음
- [ ] 저전압 경고 LED 동작 유지
- [ ] Headless/Flow/Flip Ready LED 로직 유지
- [ ] Auto tune 동작 유지

## 메모
- 날짜:
- 펌웨어 버전:
- 배터리 전압:
- 테스트 환경:
- 특이사항:
